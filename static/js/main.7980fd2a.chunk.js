(this["webpackJsonpreact-hooks-tetris"]=this["webpackJsonpreact-hooks-tetris"]||[]).push([[0],{13:function(f,p,x){f.exports=x(21)},18:function(f,p,x){},21:function(f,p,x){"use strict";x.r(p);var n=x(0),t=x.n(n),e=x(9),r=x.n(e),o=(x(18),x(1)),a=function(){return Array.from(Array(20),(function(){return new Array(12).fill([0,"clear"])}))},c=function(f,p,x){for(var n=x.x,t=x.y,e=0;e<f.tetromino.length;e+=1)for(var r=0;r<f.tetromino[e].length;r+=1)if(0!==f.tetromino[e][r]&&(!p[e+f.pos.y+t]||!p[e+f.pos.y+t][r+f.pos.x+n]||"clear"!==p[e+f.pos.y+t][r+f.pos.x+n][1]))return!0},i=x(2),u=x(3);function l(){var f=Object(i.a)(["\n  width: 2px;\n  height: 2px;\n  background: transparent;\n  box-shadow: 236px 1043px #fff, 784px 298px #fff, 594px 611px #fff,\n    1790px 363px #fff, 1099px 831px #fff, 1619px 474px #fff, 903px 652px #fff,\n    1472px 978px #fff, 1620px 1445px #fff, 1533px 1396px #fff, 303px 994px #fff,\n    318px 1761px #fff, 1755px 263px #fff, 783px 482px #fff, 1224px 216px #fff,\n    1625px 1456px #fff, 813px 1703px #fff, 1918px 1212px #fff, 1872px 799px #fff,\n    280px 793px #fff, 1932px 99px #fff, 1925px 1863px #fff, 1444px 809px #fff,\n    879px 484px #fff, 1283px 1275px #fff, 154px 1516px #fff, 1986px 404px #fff,\n    526px 774px #fff, 540px 664px #fff, 953px 1818px #fff, 1931px 1100px #fff,\n    1105px 92px #fff, 1290px 210px #fff, 1739px 33px #fff, 466px 1203px #fff,\n    1821px 139px #fff, 1524px 269px #fff, 777px 1345px #fff, 116px 29px #fff,\n    692px 10px #fff, 1165px 1444px #fff, 230px 1666px #fff, 1293px 811px #fff,\n    1349px 414px #fff, 1598px 785px #fff, 1058px 1829px #fff, 1995px 1740px #fff,\n    947px 614px #fff, 141px 1062px #fff, 1167px 248px #fff, 1366px 1098px #fff,\n    811px 1344px #fff, 1723px 872px #fff, 1450px 1137px #fff, 1225px 1762px #fff,\n    1766px 144px #fff, 1160px 1662px #fff, 931px 589px #fff, 937px 579px #fff,\n    941px 592px #fff, 864px 681px #fff, 41px 995px #fff, 761px 1239px #fff,\n    1890px 1598px #fff, 1262px 1800px #fff, 1990px 990px #fff, 1259px 880px #fff,\n    1151px 1318px #fff, 352px 1485px #fff, 1345px 876px #fff, 1446px 945px #fff,\n    1259px 1789px #fff, 1290px 374px #fff, 1388px 717px #fff, 32px 1673px #fff,\n    1204px 862px #fff, 1184px 1186px #fff, 514px 574px #fff, 1625px 279px #fff,\n    1491px 1821px #fff, 990px 398px #fff, 1552px 1243px #fff, 1427px 1528px #fff,\n    222px 808px #fff, 732px 190px #fff, 12px 1378px #fff, 964px 444px #fff,\n    317px 267px #fff, 1193px 161px #fff, 401px 716px #fff, 1399px 901px #fff,\n    547px 318px #fff, 1365px 1943px #fff, 1083px 1137px #fff, 689px 251px #fff,\n    833px 1431px #fff, 236px 177px #fff, 103px 1987px #fff, 320px 1421px #fff,\n    1938px 1277px #fff, 1738px 1755px #fff, 777px 1942px #fff, 480px 1451px #fff,\n    905px 1958px #fff, 993px 1429px #fff, 1748px 1796px #fff, 1596px 79px #fff,\n    1355px 140px #fff, 1914px 261px #fff, 1027px 1239px #fff, 242px 534px #fff,\n    1557px 192px #fff, 1884px 88px #fff, 1602px 296px #fff, 872px 307px #fff,\n    998px 1373px #fff, 38px 1192px #fff, 763px 516px #fff, 1463px 925px #fff,\n    1554px 147px #fff, 1322px 2000px #fff, 1885px 555px #fff, 1092px 1729px #fff,\n    259px 735px #fff, 1852px 295px #fff, 49px 1307px #fff, 1111px 1808px #fff,\n    1939px 643px #fff, 440px 1370px #fff, 1386px 657px #fff, 968px 611px #fff,\n    1270px 1739px #fff, 870px 392px #fff, 1257px 765px #fff, 1106px 1530px #fff,\n    1232px 1910px #fff, 1901px 1368px #fff, 1027px 1105px #fff,\n    1787px 368px #fff, 735px 375px #fff, 1475px 825px #fff, 1836px 518px #fff,\n    349px 1667px #fff, 1260px 495px #fff, 1799px 1574px #fff, 1018px 682px #fff,\n    648px 995px #fff, 935px 577px #fff, 156px 1690px #fff, 602px 1920px #fff,\n    1876px 384px #fff, 1561px 1362px #fff, 1446px 632px #fff, 1923px 209px #fff,\n    1076px 1611px #fff, 738px 722px #fff, 1484px 1655px #fff, 137px 1339px #fff,\n    1721px 541px #fff, 1544px 1082px #fff, 1083px 1601px #fff,\n    1475px 1526px #fff, 1653px 1500px #fff, 451px 1136px #fff, 288px 372px #fff,\n    290px 810px #fff, 1492px 814px #fff, 1508px 1379px #fff, 730px 1116px #fff,\n    505px 929px #fff, 1775px 1887px #fff, 1942px 1091px #fff, 927px 1676px #fff,\n    406px 992px #fff, 983px 626px #fff, 1356px 741px #fff, 1609px 936px #fff,\n    313px 1244px #fff, 616px 984px #fff, 713px 1281px #fff, 1050px 844px #fff,\n    1010px 104px #fff, 1858px 547px #fff, 429px 1678px #fff, 916px 763px #fff,\n    418px 378px #fff, 7px 631px #fff, 1702px 1288px #fff, 799px 987px #fff,\n    1661px 1081px #fff, 1655px 1846px #fff, 361px 1676px #fff,\n    1979px 1521px #fff, 415px 418px #fff, 1641px 1999px #fff, 955px 882px #fff,\n    1290px 324px #fff, 930px 1826px #fff, 989px 807px #fff, 461px 917px #fff;\n  animation: "," 100s linear infinite;\n\n  :after {\n    content: ' ';\n    position: absolute;\n    top: -1000px;\n    width: 2px;\n    height: 2px;\n    background: transparent;\n    box-shadow: 236px 1043px #fff, 784px 298px #fff, 594px 611px #fff,\n      1790px 363px #fff, 1099px 831px #fff, 1619px 474px #fff, 903px 652px #fff,\n      1472px 978px #fff, 1620px 1445px #fff, 1533px 1396px #fff,\n      303px 994px #fff, 318px 1761px #fff, 1755px 263px #fff, 783px 482px #fff,\n      1224px 216px #fff, 1625px 1456px #fff, 813px 1703px #fff,\n      1918px 1212px #fff, 1872px 799px #fff, 280px 793px #fff, 1932px 99px #fff,\n      1925px 1863px #fff, 1444px 809px #fff, 879px 484px #fff,\n      1283px 1275px #fff, 154px 1516px #fff, 1986px 404px #fff, 526px 774px #fff,\n      540px 664px #fff, 953px 1818px #fff, 1931px 1100px #fff, 1105px 92px #fff,\n      1290px 210px #fff, 1739px 33px #fff, 466px 1203px #fff, 1821px 139px #fff,\n      1524px 269px #fff, 777px 1345px #fff, 116px 29px #fff, 692px 10px #fff,\n      1165px 1444px #fff, 230px 1666px #fff, 1293px 811px #fff,\n      1349px 414px #fff, 1598px 785px #fff, 1058px 1829px #fff,\n      1995px 1740px #fff, 947px 614px #fff, 141px 1062px #fff, 1167px 248px #fff,\n      1366px 1098px #fff, 811px 1344px #fff, 1723px 872px #fff,\n      1450px 1137px #fff, 1225px 1762px #fff, 1766px 144px #fff,\n      1160px 1662px #fff, 931px 589px #fff, 937px 579px #fff, 941px 592px #fff,\n      864px 681px #fff, 41px 995px #fff, 761px 1239px #fff, 1890px 1598px #fff,\n      1262px 1800px #fff, 1990px 990px #fff, 1259px 880px #fff,\n      1151px 1318px #fff, 352px 1485px #fff, 1345px 876px #fff,\n      1446px 945px #fff, 1259px 1789px #fff, 1290px 374px #fff,\n      1388px 717px #fff, 32px 1673px #fff, 1204px 862px #fff, 1184px 1186px #fff,\n      514px 574px #fff, 1625px 279px #fff, 1491px 1821px #fff, 990px 398px #fff,\n      1552px 1243px #fff, 1427px 1528px #fff, 222px 808px #fff, 732px 190px #fff,\n      12px 1378px #fff, 964px 444px #fff, 317px 267px #fff, 1193px 161px #fff,\n      401px 716px #fff, 1399px 901px #fff, 547px 318px #fff, 1365px 1943px #fff,\n      1083px 1137px #fff, 689px 251px #fff, 833px 1431px #fff, 236px 177px #fff,\n      103px 1987px #fff, 320px 1421px #fff, 1938px 1277px #fff,\n      1738px 1755px #fff, 777px 1942px #fff, 480px 1451px #fff,\n      905px 1958px #fff, 993px 1429px #fff, 1748px 1796px #fff, 1596px 79px #fff,\n      1355px 140px #fff, 1914px 261px #fff, 1027px 1239px #fff, 242px 534px #fff,\n      1557px 192px #fff, 1884px 88px #fff, 1602px 296px #fff, 872px 307px #fff,\n      998px 1373px #fff, 38px 1192px #fff, 763px 516px #fff, 1463px 925px #fff,\n      1554px 147px #fff, 1322px 2000px #fff, 1885px 555px #fff,\n      1092px 1729px #fff, 259px 735px #fff, 1852px 295px #fff, 49px 1307px #fff,\n      1111px 1808px #fff, 1939px 643px #fff, 440px 1370px #fff,\n      1386px 657px #fff, 968px 611px #fff, 1270px 1739px #fff, 870px 392px #fff,\n      1257px 765px #fff, 1106px 1530px #fff, 1232px 1910px #fff,\n      1901px 1368px #fff, 1027px 1105px #fff, 1787px 368px #fff,\n      735px 375px #fff, 1475px 825px #fff, 1836px 518px #fff, 349px 1667px #fff,\n      1260px 495px #fff, 1799px 1574px #fff, 1018px 682px #fff, 648px 995px #fff,\n      935px 577px #fff, 156px 1690px #fff, 602px 1920px #fff, 1876px 384px #fff,\n      1561px 1362px #fff, 1446px 632px #fff, 1923px 209px #fff,\n      1076px 1611px #fff, 738px 722px #fff, 1484px 1655px #fff,\n      137px 1339px #fff, 1721px 541px #fff, 1544px 1082px #fff,\n      1083px 1601px #fff, 1475px 1526px #fff, 1653px 1500px #fff,\n      451px 1136px #fff, 288px 372px #fff, 290px 810px #fff, 1492px 814px #fff,\n      1508px 1379px #fff, 730px 1116px #fff, 505px 929px #fff,\n      1775px 1887px #fff, 1942px 1091px #fff, 927px 1676px #fff,\n      406px 992px #fff, 983px 626px #fff, 1356px 741px #fff, 1609px 936px #fff,\n      313px 1244px #fff, 616px 984px #fff, 713px 1281px #fff, 1050px 844px #fff,\n      1010px 104px #fff, 1858px 547px #fff, 429px 1678px #fff, 916px 763px #fff,\n      418px 378px #fff, 7px 631px #fff, 1702px 1288px #fff, 799px 987px #fff,\n      1661px 1081px #fff, 1655px 1846px #fff, 361px 1676px #fff,\n      1979px 1521px #fff, 415px 418px #fff, 1641px 1999px #fff, 955px 882px #fff,\n      1290px 324px #fff, 930px 1826px #fff, 989px 807px #fff, 461px 917px #fff;\n  }\n"]);return l=function(){return f},f}function s(){var f=Object(i.a)(["\n  from {\n    transform: translateY(0px);\n  }\n  to {\n    transform: translateY(500px);\n  }\n"]);return s=function(){return f},f}function d(){var f=Object(i.a)(["\n  display: flex;\n  align-items: flex-start;\n  padding: 30px;\n  margin: 0 auto;\n  max-width: 700px;\n\n  aside {\n    width: 100%;\n    max-width: 100px;\n    display: block;\n    padding: 0 10px;\n  }\n"]);return d=function(){return f},f}function b(){var f=Object(i.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);\n  background-size: cover;\n  overflow: hidden;\n"]);return b=function(){return f},f}var m=u.a.div(b()),h=u.a.div(d()),v=Object(u.b)(s()),g=u.a.div(l(),v),O=x(6),y={0:{shape:[[0]],color:"0, 0, 0"},I:{shape:[[0,"I",0,0],[0,"I",0,0],[0,"I",0,0],[0,"I",0,0]],color:"80, 227, 230"},J:{shape:[[0,"J",0],[0,"J",0],["J","J",0]],color:"36, 95, 223"},L:{shape:[[0,"L",0],[0,"L",0],[0,"L","L"]],color:"223, 173, 36"},O:{shape:[["O","O"],["O","O"]],color:"223, 217, 36"},S:{shape:[[0,"S","S"],["S","S",0],[0,0,0]],color:"48, 211, 56"},T:{shape:[[0,0,0],["T","T","T"],[0,"T",0]],color:"132, 61, 198"},Z:{shape:[["Z","Z",0],[0,"Z","Z"],[0,0,0]],color:"227, 78, 78"}},j=function(){var f="IJLOSTZ"[Math.floor(Math.random()*"IJLOSTZ".length)];return y[f]},w=function(f,p){var x=Object(n.useState)(a()),t=Object(o.a)(x,2),e=t[0],r=t[1],c=Object(n.useState)(0),i=Object(o.a)(c,2),u=i[0],l=i[1];return Object(n.useEffect)((function(){l(0);var x=function(x){var n=x.map((function(f){return f.map((function(f){return"clear"===f[1]?[0,"clear"]:f}))}));return f.tetromino.forEach((function(p,x){p.forEach((function(p,t){0!==p&&(n[x+f.pos.y][t+f.pos.x]=[p,"".concat(f.collided?"merged":"clear")])}))})),f.collided?(p(),function(f){return f.reduce((function(p,x){return-1===x.findIndex((function(f){return 0===f[0]}))?(l((function(f){return f+1})),p.unshift(new Array(f[0].length).fill([0,"clear"])),p):(p.push(x),p)}),[])}(n)):n};r((function(f){return x(f)}))}),[f,p]),[e,r,u]};function E(){var f=Object(i.a)(["\n  display: grid;\n  grid-template-rows: repeat(\n    ",",\n    calc(25vw / ",")\n  );\n  grid-template-columns: repeat(",", 1fr);\n  grid-gap: 1px;\n  border: 2px solid #333;\n  width: 100%;\n  max-width: 25vw \n  background: #111;\n"]);return E=function(){return f},f}var k=u.a.div(E(),(function(f){return f.height}),(function(f){return f.width}),(function(f){return f.width}));function S(){var f=Object(i.a)(["\n  width: auto;\n  background: rgba(",", 0.8);\n  border: ",";\n  border-bottom-color: rgba(",", 0.1);\n  border-right-color: rgba(",", 1);\n  border-top-color: rgba(",", 1);\n  border-left-color: rgba(",", 0.3);\n"]);return S=function(){return f},f}var I=u.a.div(S(),(function(f){return f.color}),(function(f){return f.type?"4px solid":"0px solid"}),(function(f){return f.color}),(function(f){return f.color}),(function(f){return f.color}),(function(f){return f.color})),J=t.a.memo((function(f){var p=f.type;return t.a.createElement(I,{type:p,color:y[p].color})})),A=function(f){var p=f.stage;return t.a.createElement(k,{width:p[0].length,height:p.length},p.map((function(f){return f.map((function(f,p){return t.a.createElement(J,{key:p,type:f[0]})}))})))};function L(){var f=Object(i.a)(["\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  margin: 0 0 20px 0;\n  padding: 20px;\n  border: 4px solid #333;\n  min-height: 30px;\n  width: 100%;\n  border-radius: 20px;\n  color: ",";\n  background: #000;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 0.8rem;\n"]);return L=function(){return f},f}var T=u.a.div(L(),(function(f){return f.gameOver?"red":"#999"})),Z=function(f){var p=f.gameOver,x=f.text;return t.a.createElement(T,{gameOver:p},x)};function z(){var f=Object(i.a)(["\n  box-sizing: border-box;\n  margin: 0 0 20px 0;\n  padding: 20px;\n  min-height: 20px;\n  width: 100%;\n  border-radius: 20px;\n  border: none;\n  color: white;\n  background: #333;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 0.8rem;\n  outline: none;\n  cursor: pointer;\n"]);return z=function(){return f},f}var C=u.a.button(z()),M=function(f){var p=f.callback;return t.a.createElement(C,{onClick:p},"Start")},N=function(){var f=Object(n.useState)(null),p=Object(o.a)(f,2),x=p[0],e=p[1],r=Object(n.useState)(!1),i=Object(o.a)(r,2),u=i[0],l=i[1],s=function(){var f=Object(n.useState)({pos:{x:0,y:0},tetromino:y[0].shape,collided:!1}),p=Object(o.a)(f,2),x=p[0],t=p[1],e=function(f,p){var x=f.map((function(p,x){return f.map((function(f){return f[x]}))}));if(p>0)return x.map((function(f){return f.reverse()}))},r=Object(n.useCallback)((function(){t({pos:{x:4,y:0},tetromino:j().shape,collided:!1})}),[]);return[x,function(f){var p=f.x,x=f.y,n=f.collided;t((function(f){return Object(O.a)(Object(O.a)({},f),{},{pos:{x:f.pos.x+=p,y:f.pos.y+=x},collided:n})}))},r,function(f,p){var n=JSON.parse(JSON.stringify(x));n.tetromino=e(n.tetromino,p);for(var r=n.pos.x,o=1;c(n,f,{x:0,y:0});)if(n.pos.x+=o,(o=-(o+(o>0?1:-1)))>n.tetromino[0].length)return e(n.tetromino,-p),void(n.pos.x=r);t(n)}]}(),d=Object(o.a)(s,4),b=d[0],v=d[1],E=d[2],k=d[3],S=w(b,E),I=Object(o.a)(S,3),J=I[0],L=I[1],T=function(f){var p=Object(n.useState)(0),x=Object(o.a)(p,2),t=x[0],e=x[1],r=Object(n.useState)(0),a=Object(o.a)(r,2),c=a[0],i=a[1],u=Object(n.useState)(0),l=Object(o.a)(u,2),s=l[0],d=l[1],b=[40,100,300,1200],m=Object(n.useCallback)((function(){f>0&&(e((function(p){return p+b[f-1]*(s+1)})),i((function(p){return p+f})))}),[s,b,f]);return Object(n.useEffect)((function(){m()}),[m,f,t]),[t,e,c,i,s,d]}(I[2]),z=Object(o.a)(T,6),C=z[0],N=z[1],R=z[2],G=z[3],H=z[4],K=z[5],Y=function(f){c(b,J,{x:f,y:0})||v({x:f,y:0})},B=function(){R>H+1&&(K((function(f){return f+1})),e(1e3/(H+1)+200)),c(b,J,{x:0,y:1})?(b.pos.y<1&&(console.log("GAME OVER!!"),l(!0),e(null)),v({x:0,y:0,collided:!0})):v({x:0,y:1,collided:!1})},D=function(f){var p=f.keyCode;u||(37===p?Y(-1):39===p?Y(1):40===p?(e(null),B()):38===p&&k(J,1))};return function(f,p){var x=Object(n.useRef)();Object(n.useEffect)((function(){x.current=f}),[f]),Object(n.useEffect)((function(){if(null!==p){var f=setInterval((function(){x.current()}),p);return function(){clearInterval(f)}}}),[p])}((function(){B()}),x),t.a.createElement(m,{role:"button",tabIndex:"0",onKeyDown:function(f){return D(f)},onKeyUp:function(f){var p=f.keyCode;u||40===p&&e(1e3/(H+1)+200)}},t.a.createElement(g,null),t.a.createElement(h,null,t.a.createElement(A,{stage:J}),t.a.createElement("aside",null,u?t.a.createElement(Z,{gameOver:u,text:"Game Over"}):t.a.createElement("div",null,t.a.createElement(Z,{text:"Score: ".concat(C)}),t.a.createElement(Z,{text:"Rows: ".concat(R)}),t.a.createElement(Z,{text:"Level: ".concat(H)})),t.a.createElement(M,{callback:function(){L(a()),e(1e3),E(),l(!1),N(0),G(0),K(0)}}))))},R=function(){return t.a.createElement("div",{className:"App"},t.a.createElement(N,null))};r.a.render(t.a.createElement(R,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.7980fd2a.chunk.js.map